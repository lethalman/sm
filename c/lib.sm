foldr = f z s:
	x, ns = s;
	if eos? ns then f x eos
	else f x (foldr f z ns);

map = f s: foldr (x ns: [f x, ns]) eos s;

printStream = s:
	x, ns = s;
	if eos? ns then print x
	else print x >> printStream ns;

printStream (map (x: x>1) [123,[321,eos]])